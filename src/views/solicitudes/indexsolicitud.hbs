<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Sistema de Gestion de otorgamiento de circulo infantil</title>
    
    <!-- Tailwind CSS Link -->
    <link rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.0.1/tailwind.min.css">

    <!-- Fontawesome Link -->
    <link href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" rel="stylesheet">
 
  </head>
  <body class="bg-gray-200">
    
    <nav class="flex py-5 bg-blue-500 text-white px-24">
        <div class="w-1/2 px-12 mr-auto">
        <p class="text-2xl font-bold">Gestionar Solicitudes</p>
        </div>

        <ul class="w-1/2 px-16 ml-auto flex justify-end pt-1">
        <li class="nav-item px-4">
            <a href="/DirectorMINED" class="nav-link font-semibold hover:bg-blue-700 py-3 px-4 rounded-md">Inicio</a>
        </li>

       

        
        </ul>

    </nav>

<div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
  <div class="bg-white overflow-hidden shadow-xl sm:rounded-lg mt-12">

    <table class="table-fixed w-full">
      <thead>
        <tr class="bg-blue-500 text-white">
          <th class="w-20 py-4 ...">ID</th>
          <th class="w-1/4 py-4 ...">Nombre niño</th>
          <th class="w-1/2 py-4 ...">CI niño</th>
          <th class="w-1/2 py-4 ...">Edad</th>
          <th class="w-1/2 py-4 ...">Dirección particular</th>
          <th class="w-1/2 py-4 ...">Nombre solicitante</th>
          <th class="w-1/2 py-4 ...">CI solicitante</th>
          <th class="w-1/2 py-4 ...">Centro de trabajo</th>
          <th class="w-1/2 py-4 ...">Correo</th>
          <th class="w-28 py-4 ...">Actions</th>
        </tr>
      </thead>
      <tbody>
       {{#each solicitudes}}
        <tr>
          <td class="py-3 px-6"><input type="checkbox" name="id"  onclick="pasarDatos(this)" value="{{id}}" ></td>
          <td class="p-3"style=" overflow-x: hidden; flex-wrap: nowrap; width: 100%; text-overflow: ellipsis;">{{nombreniño}}</td>
          <td class="p-3" >{{CIniño}}</td>
          <td class="p-3" >{{edad}}</td>
          <td class="p-3" style=" overflow-x: hidden; flex-wrap: nowrap; width: 100%; text-overflow: ellipsis;">{{direccionparticular}}</td>
          <td class="p-3" style=" overflow-x: hidden; flex-wrap: nowrap; width: 100%; text-overflow: ellipsis;">{{nombresolicitante}}</td>
          <td class="p-3" >{{CIsolicitante}}</td>
          <td class="p-3" style=" overflow-x: hidden; flex-wrap: nowrap; width: 100%; text-overflow: ellipsis;">{{centrotrabajo}}</td>
          <td class="p-3" style=" overflow-x: hidden; flex-wrap: nowrap; width: 100%; text-overflow: ellipsis;">{{correo}}</td>
          <td class="p-3 flex">
            <form action="/solicitudes/delete" method="POST" class="mx-2">
            <input type="hidden" value="{{id}}" name="id">
            <button class="bg-red-500 text-white px-3 py-1 rounded-sm" type="submit">
            <i class="fa fa-trash"></i></button>
            
            </form>
            
             <a href="/solicitudes/edit/{{id}}" class="bg-green-500 text-white px-3 py-1 rounded-sm">
            <i class="fa fa-pen"></i></a>

            
          </td>
        </tr>
     {{/each}}
      </tbody>
    </table>
  </div>
</div>

<div class="block mx-auto my-12 p-8 bg-white w-1/3 border-gray-200 rounder-lg shadow-lg">

<h1 class="text-center text-3xl font-bold">Introduzca los datos</h1>

<form  id="MyForm" action="" method="POST" class="mt-4">

     <input id="inputnombre" type="text" class="border border-gray-200 rounded-md bg-gray-200 w-full text-lg placeholder-gray-500
    p-2 my-2 focus:bg-white" placeholder = "Nombre y apellidos del niño" required name="nanino" >

   <input type="number" id="inputci" class="border border-gray-200 rounded-md bg-gray-200 w-full text-lg placeholder-gray-500
    p-2 my-2 focus:bg-white" placeholder = "CI del niño"required name="CInino" >

    <input type="number" id="inputedad" class="border border-gray-200 rounded-md bg-gray-200 w-full text-lg placeholder-gray-500
    p-2 my-2 focus:bg-white" placeholder = "Edad"required name="edad">

    <input type="text" class="border border-gray-200 rounded-md bg-gray-200 w-full text-lg placeholder-gray-500
    p-2 my-2 focus:bg-white" placeholder = "Sexo"required name="sexo">

   <label class="control-label col-md-3 col-sm-3 col-xs-12" for="nombrecirculo">Asignar círculo infantil</label>
    <div class="col-md-6 col-sm-6 col-xs-12">
    <select name="nombrecirculo" id="nombrecirculo" class="border border-gray-200 rounded-md bg-gray-200 w-full text-lg placeholder-gray-500
    p-2 my-2 focus:bg-white" placeholder = "Círculo asignado"required name="nombrecirculo" >
      {{#each circulo}}
      <option value="{{nombrecirculo}}">{{nombrecirculo}}</option>
      {{/each}}
    </select>
    </div>

     <input type="text" id="" class="border border-gray-200 rounded-md bg-gray-200 w-full text-lg placeholder-gray-500
    p-2 my-2 focus:bg-white" placeholder = "Dirección del círculo asignado"required name="direccioncirculo">

     <input type="text" class="border border-gray-200 rounded-md bg-gray-200 w-full text-lg placeholder-gray-500
    p-2 my-2 focus:bg-white" placeholder = "Nombre y apellidos del director del círculo" required name="nadirector">

      <input type="datetime-local" class="border border-gray-200 rounded-md bg-gray-200 w-full text-lg placeholder-gray-500
    p-2 my-2 focus:bg-white" placeholder = "Fecha"required name="fecha">

    {{#if exist_error}}
      <p style="color: brown;" class="text-red-500 font-bold text-lg my-3">{{error}}</p>
      {{/if}}

    <button type="submit" class="rounder-md bg-blue-500 w-full text-white font-semibold p-2 my-3
    hover:bg-blue-600 focus:bg-white-700">Asignar</button>


</form>

</div> 

<script>

function pasarDatos(checkbox) {
  var fila = checkbox.closest("tr");
  document.getElementById("inputnombre").value = fila.cells[1].innerHTML;
  document.getElementById("inputci").value = fila.cells[2].innerHTML;
  document.getElementById("inputedad").value = fila.cells[3].innerHTML;
  
  // desmarcar los demás checkboxes
  var checkboxes = document.getElementsByName("id");
  for (var i = 0; i < checkboxes.length; i++) {
    if (checkboxes[i] != checkbox) {
      checkboxes[i].checked = false;
    }
  }
}
</script>


  
  </body>
</html>

